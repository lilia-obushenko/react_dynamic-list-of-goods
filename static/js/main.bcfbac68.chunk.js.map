{"version":3,"sources":["components/Button/Button.tsx","components/Goodlist/GoodsList.tsx","components/Loader/Loader.tsx","api/goods.ts","App.tsx","index.tsx"],"names":["FilterButton","props","dataCy","children","onClick","Button","variant","type","GoodsList","React","memo","goods","List","sx","width","position","overflow","maxHeight","padding","subheader","map","good","id","name","color","ListItem","style","ListItemText","primary","Loader","className","getAll","fetch","then","response","ok","json","Promise","reject","Error","get5First","sort","current","next","localeCompare","slice","getRed","filter","App","useState","setGoods","isLoading","setIsLoading","error","setError","lastClickedButton","setLastClickedButton","handleClick","useCallback","callback","buttonName","a","Box","display","justifyContent","textAlign","ReactDOM","render","document","getElementById"],"mappings":"uSASaA,EAA0B,SAACC,GACtC,IAAQC,EAA8BD,EAA9BC,OAAQC,EAAsBF,EAAtBE,SAAUC,EAAYH,EAAZG,QAE1B,OACE,cAACC,EAAA,EAAD,CACEC,QAAQ,WACRC,KAAK,SACL,UAASL,EACTE,QAASA,EAJX,SAMGD,K,wBCPMK,EAA6BC,IAAMC,MAC9C,gBAAGC,EAAH,EAAGA,MAAH,OACE,cAACC,EAAA,EAAD,CACEC,GAAI,CACFC,MAAO,OACPC,SAAU,WACVC,SAAU,OACVC,UAAW,IACX,OAAQ,CAAEC,QAAS,IAErBC,UAAW,uBARb,SAUGR,EAAMS,KAAI,SAAAC,GACT,IAAQC,EAAoBD,EAApBC,GAAIC,EAAgBF,EAAhBE,KAAMC,EAAUH,EAAVG,MAElB,OACE,cAACC,EAAA,EAAD,CAEEC,MAAO,CAAEF,SACT,UAAQ,OAHV,SAKE,cAACG,EAAA,EAAD,CAAcC,QAASL,KAJlBD,WC1BJO,G,MAAa,kBACxB,qBAAKC,UAAU,SAAS,UAAQ,SAAhC,SACE,qBAAKA,UAAU,wBCAZ,SAASC,IACd,OAAOC,MAHI,yEAIRC,MAAK,SAAAC,GACJ,OAAKA,EAASC,GAIPD,EAASE,OAHPC,QAAQC,OAAO,IAAIC,MAAM,4BAOjC,IAAMC,EAAY,WACvB,OAAOT,IACJE,MAAK,SAAAtB,GAAK,OAAIA,EACZ8B,MAAK,SAACC,EAASC,GAAV,OAAmBD,EAAQnB,KAAKqB,cAAcD,EAAKpB,SACxDsB,MAAM,EAAG,OAGHC,EAAS,WACpB,OAAOf,IACJE,MAAK,SAAAtB,GAAK,OAAIA,EACZoC,QAAO,SAAA1B,GAAI,MAAmB,QAAfA,EAAKG,aCfdwB,EAAU,WACrB,MAA0BC,mBAAiB,IAA3C,mBAAOtC,EAAP,KAAcuC,EAAd,KACA,EAAkCD,oBAAS,GAA3C,mBAAOE,EAAP,KAAkBC,EAAlB,KACA,EAA0BH,oBAAS,GAAnC,mBAAOI,EAAP,KAAcC,EAAd,KACA,EAAkDL,mBAAiB,IAAnE,mBAAOM,EAAP,KAA0BC,EAA1B,KAEMC,EAAcC,sBAAW,uCAC7B,WAAOC,EAAiCC,GAAxC,SAAAC,EAAA,yDACMN,IAAsBK,EAD5B,wDAKER,GAAa,GALf,cAQIF,EARJ,SAQmBS,IARnB,kCASIH,EAAqBI,GACrBN,GAAS,GAVb,kDAYIA,GAAS,GAZb,yBAcIF,GAAa,GAdjB,6EAD6B,wDAiB1B,CAACG,IAGN,OACE,cAACO,EAAA,EAAD,CACEjD,GAAI,CACFkD,QAAS,OACTC,eAAgB,SAChBC,UAAW,UAJf,SAOE,sBAAKnC,UAAU,MAAf,UACE,oBAAIJ,MAAO,CAAEF,MAAO,WAApB,mCAIA,cAAC,EAAD,CACEtB,OAAO,aACPE,QAAS,kBAAMqD,EAAY1B,EAAQ,eAFrC,4BAOA,cAAC,EAAD,CACE7B,OAAO,oBACPE,QAAS,kBAAMqD,EAAYjB,EAAW,sBAFxC,gCAOA,cAAC,EAAD,CACEtC,OAAO,aACPE,QAAS,kBAAMqD,EAAYX,EAAQ,eAFrC,4BAOCK,EACC,cAAC,EAAD,IAEA,qCACGE,GACC,mBAAG3B,MAAO,CAAEF,MAAO,OAAnB,yCAKF,cAAChB,EAAD,CAAWG,MAAOA,aC9E9BuD,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.bcfbac68.chunk.js","sourcesContent":["import { FC } from 'react';\nimport { Button } from '@mui/material';\n\ninterface Props {\n  dataCy: string,\n  children: React.ReactNode,\n  onClick: () => void\n}\n\nexport const FilterButton: FC<Props> = (props) => {\n  const { dataCy, children, onClick } = props;\n\n  return (\n    <Button\n      variant=\"outlined\"\n      type=\"button\"\n      data-cy={dataCy}\n      onClick={onClick}\n    >\n      {children}\n    </Button>\n  );\n};\n","import React from 'react';\nimport {\n  List,\n  ListItem,\n  ListItemText,\n} from '@mui/material';\nimport { Good } from '../../types/Good';\n\ntype Props = {\n  goods: Good[]\n};\n\nexport const GoodsList: React.FC<Props> = React.memo(\n  ({ goods }) => (\n    <List\n      sx={{\n        width: '100%',\n        position: 'relative',\n        overflow: 'auto',\n        maxHeight: 250,\n        '& ul': { padding: 0 },\n      }}\n      subheader={<li />}\n    >\n      {goods.map(good => {\n        const { id, name, color } = good;\n\n        return (\n          <ListItem\n            key={id}\n            style={{ color }}\n            data-cy=\"good\"\n          >\n            <ListItemText primary={name} />\n          </ListItem>\n        );\n      })}\n    </List>\n  ),\n);\n","import { FC } from 'react';\nimport './Loader.scss';\n\nexport const Loader: FC = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import { Good } from '../types/Good';\n\n// eslint-disable-next-line\nconst API_URL = `https://mate-academy.github.io/react_dynamic-list-of-goods/goods.json`;\n\nexport function getAll(): Promise<Good[]> {\n  return fetch(API_URL)\n    .then(response => {\n      if (!response.ok) {\n        return Promise.reject(new Error('Something went wrong'));\n      }\n\n      return response.json();\n    });\n}\n\nexport const get5First = () => {\n  return getAll()\n    .then(goods => goods\n      .sort((current, next) => current.name.localeCompare(next.name))\n      .slice(0, 5));\n};\n\nexport const getRed = () => {\n  return getAll()\n    .then(goods => goods\n      .filter(good => good.color === 'red'));\n};\n","import { FC, useCallback, useState } from 'react';\nimport './App.scss';\nimport { Box } from '@mui/material';\n\nimport { FilterButton } from './components/Button/Button';\nimport { GoodsList } from './components/Goodlist/GoodsList';\nimport { Loader } from './components/Loader/Loader';\n\nimport { getAll, get5First, getRed } from './api/goods';\nimport { Good } from './types/Good';\n\nexport const App: FC = () => {\n  const [goods, setGoods] = useState<Good[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [lastClickedButton, setLastClickedButton] = useState<string>('');\n\n  const handleClick = useCallback(\n    async (callback: () => Promise<Good[]>, buttonName: string) => {\n      if (lastClickedButton === buttonName) {\n        return;\n      }\n\n      setIsLoading(true);\n\n      try {\n        setGoods(await callback());\n        setLastClickedButton(buttonName);\n        setError(false);\n      } catch {\n        setError(true);\n      } finally {\n        setIsLoading(false);\n      }\n    }, [lastClickedButton],\n  );\n\n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        justifyContent: 'center',\n        textAlign: 'center',\n      }}\n    >\n      <div className=\"App\">\n        <h1 style={{ color: '#42a5f5' }}>\n          Dynamic list of Goods\n        </h1>\n\n        <FilterButton\n          dataCy=\"all-button\"\n          onClick={() => handleClick(getAll, 'all-button')}\n        >\n          Load all goods\n        </FilterButton>\n\n        <FilterButton\n          dataCy=\"first-five-button\"\n          onClick={() => handleClick(get5First, 'first-five-button')}\n        >\n          Load 5 first goods\n        </FilterButton>\n\n        <FilterButton\n          dataCy=\"red-button\"\n          onClick={() => handleClick(getRed, 'red-button')}\n        >\n          Load red goods\n        </FilterButton>\n\n        {isLoading ? (\n          <Loader />\n        ) : (\n          <>\n            {error && (\n              <p style={{ color: 'red' }}>\n                Error. Something went wrong\n              </p>\n            )}\n\n            <GoodsList goods={goods} />\n          </>\n        )}\n      </div>\n    </Box>\n  );\n};\n","import ReactDOM from 'react-dom';\nimport { App } from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}